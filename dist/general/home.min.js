const siFunciona=require("si-funciona"),home=()=>{let e=0;const t=()=>{let n="",o=document.getElementsByClassName("menu")[0];if(!o)return siFunciona.delay(500).resolver.then((()=>++e>10?console.error("Failed to get the top menu")||!1:t()));let r=o.querySelectorAll("a"),l=Array.from(r);l.splice(3,1);let s=l.map((e=>document.querySelector(e.getAttribute("href"))));l=null;const c=e=>{const t="intro"===e?"fixed":"absolute";return document.getElementById("main").style.position=t,t},a=Array.from(document.getElementsByClassName("arrow-down"));Array.from(r).concat(a).forEach((e=>{e.addEventListener("click",(t=>{const n=e.getAttribute("href");((e,t=200,n=null)=>{let o=e.offsetTop,r=document.scrollingElement.scrollTop,l=o>r?1:-1,s=0,c=Math.floor(l*(o-r));const a=i=>{if(0!==s){if(r+=l*(c*(i-s)/t),c=Math.floor(l*(o-r)),c<=0)return document.scrollingElement.scrollTop=o,e.id&&(window.location.hash=e.id),n?n(e):o;document.scrollingElement.scrollTop=r}return s=i,window.requestAnimationFrame(a)};window.requestAnimationFrame(a)})(document.querySelector(n),200,(e=>c(e.id))),r.forEach((e=>e.parentElement.classList.remove("current"))),e.parentElement.classList.add("current"),t.preventDefault()}))})),window.addEventListener("scroll",(e=>{let t=document.scrollingElement.scrollTop+10,o=s.filter((e=>e.offsetTop<t));o=o[o.length-1];const l=o.id;n!==l&&(n=l,c(l),r.forEach((e=>e.getAttribute("href")===`#${l}`?e.parentElement.classList.add("current"):e.parentElement.classList.remove("current"))))}));const i=document.getElementsByTagName("header")[0];i.addEventListener("click",(e=>!!e.target.classList.contains("menu-btn")&&(e.target.parentElement.classList.toggle("hover"),i.classList.toggle("hover"))))};t()};module.exports=home;